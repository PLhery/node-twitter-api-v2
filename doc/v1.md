# API v1.1

LEFT TODO
- API V1
- API V2
- Unit test endpoints v1 & v2
- DOCS FOR TYPES

This is a comprehensive guide of all methods available for the Twitter API v1.1 on `twitter-api-v2` package.

> Every presented method in this guide is attached to **v1 client**, that you can access through `client.v1`.
>
> If you don't find the endpoint you want, don't panic! It probably hasn't been implemented yet.
> You can make your request manually using generic requests handlers `.get`, `.post`, `.put`, `.patch` and `.delete` methods.
> See [Use direct HTTP methods wrappers](./basics.md#use-the-direct-http-methods-wrappers) in the Basics.

*Argument note*: Described arguments often refers to an interface name. Generally, argument type is a `Partial<>` (all properties are optionals) of the given interface.

*Return type note*: All return types are wrapped inside `Promise`s.

For streaming API, see [Streaming part](./streaming.md).

## Tweet timelines

### Home timeline

Logged user home timeline.
Get to know how [paginators work here](./paginators.md).

**Method**: `.homeTimeline()`

**Endpoint**: `statuses/home_timeline.json`

**Right level**: `Read-only`

**Arguments**:
  - `options?: TweetV1TimelineParams`

**Returns**: `HomeTimelineV1Paginator`

**Example**
```ts
const homeTimeline = await client.v1.homeTimeline({ exclude_replies: true });

// Consume every possible tweet of homeTimeline (until rate limit is hit)
for await (const tweet of homeTimeline) {
  console.log(tweet);
}
```

### Mention timeline

Logged user received mentions.
Get to know how [paginators work here](./paginators.md).

**Method**: `.mentionTimeline()`

**Endpoint**: `statuses/mentions_timeline.json`

**Right level**: `Read-only`

**Arguments**:
  - `options?: TweetV1TimelineParams`

**Returns**: `MentionTimelineV1Paginator`

**Example**
```ts
const mentionTimeline = await client.v1.mentionTimeline({ trim_user: true });
const fetchedTweets = mentionTimeline.tweets;
```

### User timeline

#### By user ID

Last posted tweets of `userId` user.
Get to know how [paginators work here](./paginators.md).

**Method**: `.userTimeline()`

**Endpoint**: `statuses/user_timeline.json`

**Right level**: `Read-only`

**Arguments**:
  - `userId: string`
  - `options?: TweetV1UserTimelineParams`

**Returns**: `UserTimelineV1Paginator`

**Example**
```ts
const userTimeline = await client.v1.userTimeline('12', { include_entities: true });
const fetchedTweets = userTimeline.tweets;
```

#### By username

Last posted tweets of @`username` user.
Get to know how [paginators work here](./paginators.md).

**Method**: `.userTimelineByUsername()`

**Endpoint**: `statuses/user_timeline.json`

**Right level**: `Read-only`

**Arguments**:
  - `username: string`
  - `options?: TweetV1UserTimelineParams`

**Returns**: `UserTimelineV1Paginator`

**Example**
```ts
const userTimeline = await client.v1.userTimelineByUsername('plhery');
const fetchedTweets = userTimeline.tweets;
```


## Account settings

### Get logged user

**Method**: `.verifyCredentials()`

**Endpoint**: `account/verify_credentials.json`

**Right level**: `Read-only`

**Arguments**:
  - `options?: VerifyCredentialsV1Params`

**Returns**: `UserV1`

**Example**
```ts
const loggedUser = await client.v1.verifyCredentials();
// or its shortcut
const loggedUser = await client.currentUser();
```


## Trends

### Trends by place location

**Method**: `.trendsByPlace()`

**Endpoint**: `trends/place.json`

**Right level**: `Read-only`

**Arguments**:
  - `woeId: string | number`: Where On Earth Identifier
  - `options?: TrendsPlaceV1Params`

**Returns**: `TrendMatchV1[]`

**Example**
```ts
// Trends of New York
const trendsOfNy = await client.v1.trendsByPlace(2459115);

for (const { trends, created_at } of trendsOfNy) {
  for (const trend of trends) {
    console.log('Trend', trend.name, 'created at', created_at);
  }
}
```

### Current trends

**Method**: `.trendsAvailable()`

**Endpoint**: `trends/available.json`

**Right level**: `Read-only`

**Arguments**: None

**Returns**: `TrendLocationV1[]`

**Example**
```ts
const currentTrends = await client.v1.trendsAvailable();

for (const { name, country } of currentTrends) {
  console.log('Trend', name, 'is *trendy* in', country);
}
```

### Trends near geo point

Trends nears a lat/long couple.

**Method**: `.trendsClosest()`

**Endpoint**: `trends/closest.json`

**Right level**: `Read-only`

**Arguments**:
  - `latitude: number`
  - `longitude: number`

**Returns**: `TrendLocationV1[]`

**Example**
```ts
const trends = await client.v1.trendsClosest(-18.183, 4.24);
```

## Geo places

### Get a place by ID

**Method**: `.geoPlace()`

**Endpoint**: `geo/id/:id.json`

**Right level**: `Read-only`

**Arguments**:
  - `placeId: string`

**Returns**: `PlaceV1`

**Example**
```ts
const place = await client.v1.geoPlace('189384');
console.log(place.full_name, place.url);
```

// Next: geoSearch

<!--
## API type

### Method

**Method**:

**Endpoint**:

**Right level**:

**Arguments**:

**Returns**:

**Example**
```ts

```
-->
